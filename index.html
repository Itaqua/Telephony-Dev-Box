<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>Telephony Dev Box by mojolingo</title>
  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>Telephony Dev Box</h1>
          <h2>Development environments for VoIP Applications</h2>
        </header>

        <section id="downloads" class="clearfix">
          <a href="https://github.com/mojolingo/Telephony-Dev-Box/zipball/master" id="download-zip" class="button"><span>Download .zip</span></a>
          <a href="https://github.com/mojolingo/Telephony-Dev-Box/tarball/master" id="download-tar-gz" class="button"><span>Download .tar.gz</span></a>
          <a href="https://github.com/mojolingo/Telephony-Dev-Box" id="view-on-github" class="button"><span>View on GitHub</span></a>
        </section>

        <hr>

        <section id="main_content">
          <h1>
<a name="telephony-dev-box" class="anchor" href="#telephony-dev-box"><span class="octicon octicon-link"></span></a>Telephony Dev Box</h1>

<h2>
<a name="installation" class="anchor" href="#installation"><span class="octicon octicon-link"></span></a>Installation</h2>

<ol>
<li>Install <a href="https://www.virtualbox.org/wiki/Downloads">virtualbox</a>
</li>
<li>Install <a href="http://vagrantup.com">vagrant</a>
</li>
<li>Clone this repository (<code>git clone https://github.com/mojolingo/Telephony-Dev-Box.git</code>) if you have git installed, or download <a href="https://github.com/mojolingo/Telephony-Dev-Box/zipball/master">an archive</a>.</li>
<li>Add the <a href="https://github.com/riotgames/vagrant-berkshelf">vagrant-berkshelf plugin</a> to your Vagrant installation by doing <code>vagrant plugin install vagrant-berkshelf</code>.</li>
<li>Build the VMs:
This project ships with configuration for each of the three supported telephony engines: Asterisk, FreeSWITCH and PRISM, along with a box with Lumenvox TTS &amp; ASR deployed and a load test box (containing <a href="http://sipp.sourceforge.net">SIPp</a> + <a href="https://github.com/bklang/sippy_cup">Sippy Cup</a>). If you simply type <code>vagrant up</code> then one VM will be created for each engine, as well as a VM containing a working Adhearsion environment. However, this will create five virtual machines! You can easily bring up just the instance(s) you want by typing any combination of the below commands:

<ul>
<li><code>vagrant up adhearsion</code></li>
<li><code>vagrant up asterisk</code></li>
<li><code>vagrant up freeswitch</code></li>
<li><code>vagrant up prism</code></li>
<li><code>vagrant up lumenvox</code></li>
<li><code>vagrant up loadtest</code></li>
</ul>
</li>
</ol><p>One thing to note is that the "adhearsion" VM is especially optional.  Most of the Mojo Lingo developers simply run Adhearsion locally. We provided a VM for those users who had a difficult time getting a Ruby build running on their system. If you already have a functional Ruby environment (with RubyGems) then feel free to just <code>gem install adhearsion</code> and keep going.</p>

<h2>
<a name="usage" class="anchor" href="#usage"><span class="octicon octicon-link"></span></a>Usage</h2>

<h3>
<a name="create-an-adhearsion-app" class="anchor" href="#create-an-adhearsion-app"><span class="octicon octicon-link"></span></a>Create an Adhearsion app</h3>

<p>Configure it to connect to the platform of your choice using one of the following samples:</p>

<div class="highlight highlight-ruby"><pre><span class="c1">##</span>
<span class="c1"># Use with Rayo (eg FreeSWITCH or Voxeo PRISM)</span>
<span class="c1">#</span>
<span class="n">config</span><span class="o">.</span><span class="n">punchblock</span><span class="o">.</span><span class="n">username</span> <span class="o">=</span> <span class="s2">"usera@freeswitch.local-dev.mojolingo.com"</span> <span class="c1"># Your XMPP JID for use with Rayo (swap 'freeswitch' for 'prism' as appropriate)</span>
<span class="n">config</span><span class="o">.</span><span class="n">punchblock</span><span class="o">.</span><span class="n">password</span> <span class="o">=</span> <span class="s2">"1"</span> <span class="c1"># Your XMPP password</span>
</pre></div>

<div class="highlight highlight-ruby"><pre><span class="c1">##</span>
<span class="c1"># Use with Asterisk</span>
<span class="c1">#</span>
<span class="n">config</span><span class="o">.</span><span class="n">punchblock</span><span class="o">.</span><span class="n">platform</span> <span class="o">=</span> <span class="ss">:asterisk</span> <span class="c1"># Use Asterisk</span>
<span class="n">config</span><span class="o">.</span><span class="n">punchblock</span><span class="o">.</span><span class="n">username</span> <span class="o">=</span> <span class="s2">"manager"</span> <span class="c1"># Your AMI username</span>
<span class="n">config</span><span class="o">.</span><span class="n">punchblock</span><span class="o">.</span><span class="n">password</span> <span class="o">=</span> <span class="s2">"password"</span> <span class="c1"># Your AMI password</span>
<span class="n">config</span><span class="o">.</span><span class="n">punchblock</span><span class="o">.</span><span class="n">host</span> <span class="o">=</span> <span class="s2">"asterisk.local-dev.mojolingo.com"</span> <span class="c1"># Your AMI host</span>
</pre></div>

<h3>
<a name="test" class="anchor" href="#test"><span class="octicon octicon-link"></span></a>Test</h3>

<p>Boot your Adhearsion app and call in. You can dial <code>usera@[asterisk/freeswitch/prism].local-dev.mojolingo.com</code>, or any number from a registered endpoint.</p>

<h3>
<a name="register-your-softphone-optional" class="anchor" href="#register-your-softphone-optional"><span class="octicon octicon-link"></span></a>Register your softphone (optional)</h3>

<p>The Asterisk and FreeSWITCH VMs contain preconfigured "usera" and "userb" accounts for softphones. Use the following credentials to register:</p>

<ul>
<li>Username: usera@[asterisk/freeswitch].local-dev.mojolingo.com / Password: usera</li>
<li>Username: userb@[asterisk/freeswitch].local-dev.mojolingo.com / Password: userb</li>
</ul><h2>
<a name="base-boxes" class="anchor" href="#base-boxes"><span class="octicon octicon-link"></span></a>Base Boxes</h2>

<p>This project includes base box templates for use on Mojo Lingo projects. These base boxes are published at <a href="http://ci.mojolingo.com/job/Telephony-Dev-Box-Base-Boxen">http://ci.mojolingo.com/job/Telephony-Dev-Box-Base-Boxen</a>, and include Chef 11. Ubuntu 12.04 and CentOS 6.4 boxes are available, both 64bit. The main difference between these and other publicly available base boxes is the visibility into their build mechanism and that they <em>never</em> change after they are published - new builds always have a new build number in their URL; this way you can be sure of base box stability.</p>
        </section>

        <footer>
          Telephony Dev Box is maintained by <a href="https://github.com/mojolingo">mojolingo</a><br>
          This page was generated by <a href="http://pages.github.com">GitHub Pages</a>. Tactile theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.
        </footer>

                  <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-22818641-5");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

      </div>
    </div>
  </body>
</html>